{"version":3,"file":"index-0f628d05.js","sources":["../../src/layouts/components/Tools/index.vue"],"sourcesContent":["<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nexport default defineComponent({\n  name: 'Tools',\n})\n</script>\n<script lang=\"ts\" setup name=\"Tools\">\nimport { useFullscreen } from '@vueuse/core'\nimport eventBus from '@/utils/eventBus'\nimport useSettingsStore from '@/store/modules/settings'\nimport useUserStore from '@/store/modules/user'\n\nconst router = useRouter()\n\nconst settingsStore = useSettingsStore()\nconst userStore = useUserStore()\n\nconst mainPage = useMainPage()\nconst { isFullscreen, toggle } = useFullscreen()\n\nfunction userCommand(command: 'home' | 'setting' | 'hotkeys' | 'logout') {\n  switch (command) {\n    case 'home':\n      router.push({\n        name: 'home',\n      })\n      break\n    case 'setting':\n      router.push({\n        name: 'personalSetting',\n      })\n      break\n    case 'hotkeys':\n      eventBus.emit('global-hotkeys-intro-toggle')\n      break\n    case 'logout':\n      userStore.logout().then(() => {\n        router.push({\n          name: 'login',\n        })\n      })\n      break\n  }\n}\n</script>\n\n<template>\n  <div class=\"tools\">\n    <div class=\"buttons\">\n      <span class=\"user-container\" @click=\"eventBus.emit('global-version-help')\">\n        <div class=\"user-wrapper\">\n          <el-tag type=\"danger\">版本&帮助</el-tag>\n        </div>\n      </span>\n    </div>\n    <el-dropdown class=\"user-container\" size=\"default\" @command=\"userCommand\">\n      <div class=\"user-wrapper\">\n        <el-avatar size=\"small\">\n          <el-icon>\n            <svg-icon name=\"ep:user-filled\" />\n          </el-icon>\n        </el-avatar>\n        {{ userStore.name }}\n        <el-icon>\n          <svg-icon name=\"ep:caret-bottom\" />\n        </el-icon>\n      </div>\n      <template #dropdown>\n        <el-dropdown-menu class=\"user-dropdown\">\n          <el-dropdown-item v-if=\"settingsStore.settings.home.enable\" command=\"home\">\n            {{ settingsStore.settings.home.title }}\n          </el-dropdown-item>\n          <el-dropdown-item command=\"setting\">\n            个人设置\n          </el-dropdown-item>\n          <el-dropdown-item divided command=\"logout\">\n            退出登录\n          </el-dropdown-item>\n        </el-dropdown-menu>\n      </template>\n    </el-dropdown>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.tools {\n  display: flex;\n  align-items: center;\n  padding: 0 20px;\n  white-space: nowrap;\n\n  .buttons {\n    margin-right: 20px;\n\n    .item {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      height: 24px;\n      width: 34px;\n      cursor: pointer;\n      vertical-align: middle;\n\n      .el-icon {\n        color: var(--el-text-color-primary);\n        transition: var(--el-transition-color);\n      }\n    }\n  }\n}\n\n:deep(.user-container) {\n  display: inline-block;\n  height: 24px;\n  line-height: 24px;\n  cursor: pointer;\n\n  .user-wrapper {\n    .el-avatar {\n      vertical-align: middle;\n      margin-top: -2px;\n      margin-right: 4px;\n    }\n  }\n}\n</style>\n"],"names":["__default__","defineComponent","router","useRouter","settingsStore","useSettingsStore","userStore","useUserStore","useFullscreen","userCommand","command","eventBus"],"mappings":"qQAEAA,EAAAC,EAAA,CAA+B,KAAA,OAE/B,CAAA,qBAQA,MAAAC,EAAAC,IAEAC,EAAAC,IACAC,EAAAC,IAGAC,EAAA,EAEA,SAAAC,EAAAC,EAAA,CACE,OAAAA,EAAA,CAAiB,IAAA,OAEbR,EAAA,KAAA,CAAY,KAAA,MACJ,CAAA,EAER,MAAA,IAAA,UAEAA,EAAA,KAAA,CAAY,KAAA,iBACJ,CAAA,EAER,MAAA,IAAA,UAEAS,EAAA,KAAA,6BAAA,EACA,MAAA,IAAA,SAEAL,EAAA,SAAA,KAAA,IAAA,CACEJ,EAAA,KAAA,CAAY,KAAA,OACJ,CAAA,CACP,CAAA,EAEH,KAAA,CACJ"}